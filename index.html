<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Тест каталога</title>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<style>
body { font-family: Arial; padding: 20px }
.card { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px }
img { max-width: 200px }
</style>
</head>
<body>

<h2>Тест загрузки Google Таблицы</h2>
<div id="out">Загрузка...</div>

<script>
const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRllTq080YSSI7EgOmGa0XqlhLPxKpomN26jhacDriuVsYPMdJhLM1blqR5Z5FiBvUOjHrdQujXS67q/pub?output=csv";

Papa.parse(CSV_URL, {
  download: true,
  header: true,
  complete: function(res) {
    const out = document.getElementById("out");
    out.innerHTML = "";

    res.data.slice(0,5).forEach(r => {
      out.innerHTML += `
        <div class="card">
          <div><b>${r["Наименование"]}</b></div>
          <div>Цена: ${r["РОЗНИЦА"]}</div>
          <img src="${r["Фото"]}">
        </div>
      `;
    });
  },
  error: function(err) {
    document.getElementById("out").innerText = "ОШИБКА: " + err;
  }
});
</script>

</body>
</html>
